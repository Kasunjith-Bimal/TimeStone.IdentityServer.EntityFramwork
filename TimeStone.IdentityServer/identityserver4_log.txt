2019-07-20 16:29:54.622 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 16:29:54.951 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 16:29:54.954 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 16:29:54.957 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 16:29:54.959 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 16:29:54.963 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 16:29:54.985 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 16:29:55.837 +05:30 [DBG] Starting grant removal
2019-07-20 16:31:43.638 +05:30 [DBG] TaskCanceledException. Exiting.
2019-07-20 16:31:43.691 +05:30 [DBG] Stopping grant removal
2019-07-20 16:31:52.433 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 16:31:52.620 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 16:31:52.623 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 16:31:52.626 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 16:31:52.628 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 16:31:52.630 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 16:31:52.636 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 16:31:52.776 +05:30 [DBG] Starting grant removal
2019-07-20 16:31:58.606 +05:30 [DBG] TaskCanceledException. Exiting.
2019-07-20 16:31:58.636 +05:30 [DBG] Stopping grant removal
2019-07-20 16:34:09.629 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 16:34:09.810 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 16:34:09.814 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 16:34:09.819 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 16:34:09.820 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 16:34:09.826 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 16:34:09.831 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 16:34:09.982 +05:30 [DBG] Starting grant removal
2019-07-20 16:34:47.870 +05:30 [DBG] TaskCanceledException. Exiting.
2019-07-20 16:34:47.899 +05:30 [DBG] Stopping grant removal
2019-07-20 16:39:18.684 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 16:39:19.784 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 16:39:19.784 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 16:39:19.784 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 16:39:19.785 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 16:39:19.785 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 16:39:19.785 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 16:39:20.726 +05:30 [DBG] Starting grant removal
2019-07-20 16:39:22.449 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 16:39:22.463 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 16:39:22.463 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 16:39:22.463 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 16:39:22.464 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 16:39:22.464 +05:30 [DBG] Error Url: /home/error
2019-07-20 16:39:22.464 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 16:39:40.195 +05:30 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-20 16:39:40.286 +05:30 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-20 16:39:40.287 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-20 16:39:40.305 +05:30 [DBG] Start discovery request
2019-07-20 16:39:44.198 +05:30 [DBG] Found [] as all scopes in database
2019-07-20 16:40:45.128 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 16:40:45.301 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 16:40:45.304 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 16:40:45.309 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 16:40:45.310 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 16:40:45.316 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 16:40:45.319 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 16:40:45.532 +05:30 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-07-20 16:40:45.537 +05:30 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-07-20 16:40:45.559 +05:30 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass22_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-07-20 16:40:45.764 +05:30 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\IdentityServer4\src\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\IdentityServer4\src\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\IdentityServer4\src\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\IdentityServer4\src\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-07-20 16:49:14.589 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 16:49:14.807 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 16:49:14.807 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 16:49:14.808 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 16:49:14.809 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 16:49:14.809 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 16:49:14.809 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 16:49:14.950 +05:30 [DBG] Starting grant removal
2019-07-20 16:49:15.307 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 16:49:15.310 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 16:49:15.310 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 16:49:15.310 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 16:49:15.310 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 16:49:15.311 +05:30 [DBG] Error Url: /home/error
2019-07-20 16:49:15.311 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 16:53:05.476 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 16:53:05.659 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 16:53:05.659 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 16:53:05.659 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 16:53:05.659 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 16:53:05.659 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 16:53:05.660 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 16:53:05.814 +05:30 [DBG] Starting grant removal
2019-07-20 16:53:06.074 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 16:53:06.078 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 16:53:06.078 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 16:53:06.078 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 16:53:06.078 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 16:53:06.078 +05:30 [DBG] Error Url: /home/error
2019-07-20 16:53:06.078 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 17:04:52.177 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 17:04:52.366 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 17:04:52.368 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 17:04:52.368 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 17:04:52.369 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 17:04:52.370 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 17:04:52.370 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 17:04:52.505 +05:30 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-07-20 17:04:52.508 +05:30 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-07-20 17:04:52.510 +05:30 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass22_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-07-20 17:04:52.580 +05:30 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\IdentityServer4\src\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\IdentityServer4\src\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\IdentityServer4\src\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\IdentityServer4\src\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-07-20 17:11:22.290 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 17:11:22.471 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 17:11:22.482 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 17:11:22.485 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 17:11:22.489 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 17:11:22.499 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 17:11:22.513 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 17:11:22.670 +05:30 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-07-20 17:11:22.677 +05:30 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-07-20 17:11:22.686 +05:30 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass22_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-07-20 17:11:22.852 +05:30 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\IdentityServer4\src\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\IdentityServer4\src\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\IdentityServer4\src\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\IdentityServer4\src\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-07-20 17:34:45.446 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 17:34:45.654 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 17:34:45.657 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 17:34:45.669 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 17:34:45.672 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 17:34:45.680 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 17:34:45.688 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 17:34:45.891 +05:30 [DBG] Starting grant removal
2019-07-20 17:35:20.547 +05:30 [DBG] TaskCanceledException. Exiting.
2019-07-20 17:35:20.586 +05:30 [DBG] Stopping grant removal
2019-07-20 18:03:37.972 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 18:03:38.128 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 18:03:38.129 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 18:03:38.130 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 18:03:38.130 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 18:03:38.131 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 18:03:38.132 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 18:03:38.276 +05:30 [DBG] Starting grant removal
2019-07-20 18:05:08.036 +05:30 [DBG] TaskCanceledException. Exiting.
2019-07-20 18:05:08.063 +05:30 [DBG] Stopping grant removal
2019-07-20 18:05:15.854 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 18:05:16.035 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 18:05:16.036 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 18:05:16.036 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 18:05:16.037 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 18:05:16.037 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 18:05:16.039 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 18:05:16.195 +05:30 [DBG] Starting grant removal
2019-07-20 18:07:37.948 +05:30 [DBG] TaskCanceledException. Exiting.
2019-07-20 18:07:37.984 +05:30 [DBG] Stopping grant removal
2019-07-20 18:11:25.622 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 18:11:25.916 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 18:11:25.917 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 18:11:25.917 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 18:11:25.917 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 18:11:25.917 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 18:11:25.917 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 18:11:26.101 +05:30 [DBG] Starting grant removal
2019-07-20 18:11:27.540 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 18:11:27.585 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 18:11:27.585 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 18:11:27.585 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 18:11:27.585 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 18:11:27.585 +05:30 [DBG] Error Url: /home/error
2019-07-20 18:11:27.586 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 18:14:28.812 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 18:14:28.991 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 18:14:28.995 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 18:14:29.004 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 18:14:29.011 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 18:14:29.020 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 18:14:29.033 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 18:14:29.217 +05:30 [WRN] Unable to bind to http://localhost:5000 on the IPv4 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-07-20 18:14:29.231 +05:30 [WRN] Unable to bind to http://localhost:5000 on the IPv6 loopback interface: 'An attempt was made to access a socket in a way forbidden by its access permissions'.
2019-07-20 18:14:29.243 +05:30 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://localhost:5000. ---> System.AggregateException: One or more errors occurred. (An attempt was made to access a socket in a way forbidden by its access permissions) (An attempt was made to access a socket in a way forbidden by its access permissions) ---> System.Net.Sockets.SocketException: An attempt was made to access a socket in a way forbidden by its access permissions
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass22_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2019-07-20 18:14:29.515 +05:30 [FTL] An error occurred stopping the application
System.AggregateException: One or more errors occurred. (Not started. Call Start first.) ---> System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\IdentityServer4\src\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\IdentityServer4\src\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.StopAsync(CancellationToken token)
---> (Inner Exception #0) System.InvalidOperationException: Not started. Call Start first.
   at IdentityServer4.EntityFramework.TokenCleanup.Stop() in C:\local\identity\server4\IdentityServer4\src\EntityFramework.Storage\src\TokenCleanup\TokenCleanup.cs:line 77
   at Microsoft.Extensions.DependencyInjection.TokenCleanupHost.StopAsync(CancellationToken cancellationToken) in C:\local\identity\server4\IdentityServer4\src\EntityFramework\src\TokenCleanupHost.cs:line 37
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.<>c__DisplayClass4_0.<StopAsync>b__0(IHostedService service)
   at Microsoft.AspNetCore.Hosting.Internal.HostedServiceExecutor.ExecuteAsync(Func`2 callback)<---

2019-07-20 18:15:14.910 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 18:15:15.094 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 18:15:15.094 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 18:15:15.094 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 18:15:15.095 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 18:15:15.095 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 18:15:15.095 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 18:15:15.236 +05:30 [DBG] Starting grant removal
2019-07-20 18:15:15.542 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 18:15:15.546 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 18:15:15.546 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 18:15:15.546 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 18:15:15.546 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 18:15:15.546 +05:30 [DBG] Error Url: /home/error
2019-07-20 18:15:15.546 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 18:15:47.139 +05:30 [DBG] Stopping grant removal
2019-07-20 18:15:47.142 +05:30 [DBG] TaskCanceledException. Exiting.
2019-07-20 18:24:31.918 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 18:24:32.080 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 18:24:32.080 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 18:24:32.080 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 18:24:32.080 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 18:24:32.080 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 18:24:32.080 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 18:24:32.225 +05:30 [DBG] Starting grant removal
2019-07-20 18:24:32.437 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 18:24:32.442 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 18:24:32.442 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 18:24:32.442 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 18:24:32.442 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 18:24:32.442 +05:30 [DBG] Error Url: /home/error
2019-07-20 18:24:32.442 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 18:51:24.468 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 18:51:24.703 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 18:51:24.703 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 18:51:24.703 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 18:51:24.703 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 18:51:24.703 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 18:51:24.703 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 18:51:25.022 +05:30 [DBG] Starting grant removal
2019-07-20 18:51:25.679 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 18:51:25.683 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 18:51:25.683 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 18:51:25.683 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 18:51:25.683 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 18:51:25.683 +05:30 [DBG] Error Url: /home/error
2019-07-20 18:51:25.683 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 19:37:14.095 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 19:37:14.513 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 19:37:14.513 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 19:37:14.513 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 19:37:14.513 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 19:37:14.513 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 19:37:14.513 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 19:37:15.734 +05:30 [DBG] Starting grant removal
2019-07-20 19:37:16.513 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 19:37:16.521 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 19:37:16.521 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 19:37:16.522 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 19:37:16.523 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 19:37:16.523 +05:30 [DBG] Error Url: /home/error
2019-07-20 19:37:16.523 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 20:00:58.021 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 20:00:58.260 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 20:00:58.260 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 20:00:58.260 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 20:00:58.260 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 20:00:58.260 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 20:00:58.260 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 20:00:58.439 +05:30 [DBG] Starting grant removal
2019-07-20 20:00:58.905 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 20:00:58.909 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 20:00:58.909 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 20:00:58.909 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 20:00:58.909 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 20:00:58.909 +05:30 [DBG] Error Url: /home/error
2019-07-20 20:00:58.910 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 22:00:59.533 +05:30 [INF] Removing 0 grants
2019-07-20 22:00:59.576 +05:30 [WRN] Query: '(from DeviceFlowCodes x in DbSet<DeviceFlowCodes> where [x].Expiration < (Nullable<DateTime>)DateTim...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-20 22:00:59.624 +05:30 [INF] Removing 0 device flow codes
2019-07-20 22:54:00.346 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 22:54:01.083 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 22:54:01.084 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 22:54:01.084 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 22:54:01.084 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 22:54:01.084 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 22:54:01.084 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 22:54:04.030 +05:30 [DBG] Starting grant removal
2019-07-20 22:54:05.216 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 22:54:05.223 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 22:54:05.223 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 22:54:05.223 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 22:54:05.224 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 22:54:05.224 +05:30 [DBG] Error Url: /home/error
2019-07-20 22:54:05.224 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 22:55:13.874 +05:30 [DBG] Stopping grant removal
2019-07-20 22:55:13.894 +05:30 [DBG] TaskCanceledException. Exiting.
2019-07-20 22:59:42.294 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 22:59:42.859 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 22:59:42.859 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 22:59:42.859 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 22:59:42.859 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 22:59:42.859 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 22:59:42.859 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 22:59:45.032 +05:30 [DBG] Starting grant removal
2019-07-20 22:59:48.052 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 22:59:48.060 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 22:59:48.060 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 22:59:48.060 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 22:59:48.060 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 22:59:48.060 +05:30 [DBG] Error Url: /home/error
2019-07-20 22:59:48.060 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 22:59:52.909 +05:30 [DBG] Stopping grant removal
2019-07-20 22:59:53.235 +05:30 [DBG] TaskCanceledException. Exiting.
2019-07-20 23:00:45.134 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 23:00:45.259 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 23:00:45.260 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 23:00:45.260 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 23:00:45.261 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 23:00:45.261 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 23:00:45.261 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 23:00:45.466 +05:30 [DBG] Starting grant removal
2019-07-20 23:00:45.858 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 23:00:45.863 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 23:00:45.865 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 23:00:45.865 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 23:00:45.865 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 23:00:45.865 +05:30 [DBG] Error Url: /home/error
2019-07-20 23:00:45.865 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 23:00:47.781 +05:30 [DBG] Stopping grant removal
2019-07-20 23:00:47.786 +05:30 [DBG] TaskCanceledException. Exiting.
2019-07-20 23:04:59.578 +05:30 [INF] Starting IdentityServer4 version 2.5.0.0
2019-07-20 23:04:59.870 +05:30 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-07-20 23:04:59.870 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-07-20 23:04:59.870 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-07-20 23:04:59.871 +05:30 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-07-20 23:04:59.871 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-07-20 23:04:59.871 +05:30 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-07-20 23:05:02.670 +05:30 [DBG] Starting grant removal
2019-07-20 23:05:06.743 +05:30 [DBG] Login Url: /Account/Login
2019-07-20 23:05:06.753 +05:30 [DBG] Login Return Url Parameter: ReturnUrl
2019-07-20 23:05:06.753 +05:30 [DBG] Logout Url: /Account/Logout
2019-07-20 23:05:06.753 +05:30 [DBG] ConsentUrl Url: /consent
2019-07-20 23:05:06.753 +05:30 [DBG] Consent Return Url Parameter: returnUrl
2019-07-20 23:05:06.753 +05:30 [DBG] Error Url: /home/error
2019-07-20 23:05:06.755 +05:30 [DBG] Error Id Parameter: errorId
2019-07-20 23:05:23.385 +05:30 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-20 23:05:23.580 +05:30 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-20 23:05:23.581 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-20 23:05:23.600 +05:30 [DBG] Start discovery request
2019-07-20 23:05:27.114 +05:30 [DBG] Found ["openid","email","profile","API1"] as all scopes in database
2019-07-20 23:05:27.776 +05:30 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-20 23:05:27.778 +05:30 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-20 23:05:27.778 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-20 23:05:27.784 +05:30 [DBG] Start key discovery request
2019-07-20 23:05:28.624 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-20 23:05:28.637 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-20 23:05:28.637 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-20 23:05:28.645 +05:30 [DBG] Start authorize request
2019-07-20 23:05:28.687 +05:30 [DBG] No user present in authorize request
2019-07-20 23:05:28.701 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:05:30.139 +05:30 [DBG] mvc found in database: true
2019-07-20 23:05:30.197 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:05:30.265 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:05:30.268 +05:30 [DBG] No PKCE used.
2019-07-20 23:05:30.385 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:05:31.035 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:05:31.077 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:05:31.325 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:05:31.340 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:05:31.365 +05:30 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"Mvc Demo","RedirectUri":"http://localhost:3728/signin-oidc","AllowedRedirectUris":["http://localhost:3728/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile email API1","State":"CfDJ8POuXt9tv4tEqo04SnKVjl49fRTRPPA_LSPyoXtQG2hA0plNODKhx_I5BB9WuVtDD2thrF9zVHQ-J1mIr-tH6TJrCbGHwQON2ph39mtXyKdY7WDgoXHQUGVcyyIGwXxciyD6FMxbzBlLuGasW0b6F2scC52nARmvgJcYIh7Pc7hrqyCzqmBgS1HqDdenhNPNMu2rkaSKCM739nQw6tOtUsqrRFzQBvOw3j7amF2mo-aNh6RlvkPZVZQ5HGBFKZRwWr8f9PLFMMsLDYmQNr8lTD-VbaqAxN1DUOcTcuDjYe22DrIKCgl6DGz-LU_8MFCCaw","UiLocales":null,"Nonce":"636992409284926598.NGMwN2M2ODgtZWRmZi00ZWU3LTk1MzctMzVmMDIxZTJmMTM3NDQ3MTc4NzYtYmUxYS00NTQxLWIzZTctYWVjMjFjYzY4YThm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:3728/signin-oidc","response_type":"code id_token","scope":"openid profile email API1","response_mode":"form_post","nonce":"636992409284926598.NGMwN2M2ODgtZWRmZi00ZWU3LTk1MzctMzVmMDIxZTJmMTM3NDQ3MTc4NzYtYmUxYS00NTQxLWIzZTctYWVjMjFjYzY4YThm","state":"CfDJ8POuXt9tv4tEqo04SnKVjl49fRTRPPA_LSPyoXtQG2hA0plNODKhx_I5BB9WuVtDD2thrF9zVHQ-J1mIr-tH6TJrCbGHwQON2ph39mtXyKdY7WDgoXHQUGVcyyIGwXxciyD6FMxbzBlLuGasW0b6F2scC52nARmvgJcYIh7Pc7hrqyCzqmBgS1HqDdenhNPNMu2rkaSKCM739nQw6tOtUsqrRFzQBvOw3j7amF2mo-aNh6RlvkPZVZQ5HGBFKZRwWr8f9PLFMMsLDYmQNr8lTD-VbaqAxN1DUOcTcuDjYe22DrIKCgl6DGz-LU_8MFCCaw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-20 23:05:31.387 +05:30 [INF] Showing login: User is not authenticated
2019-07-20 23:05:31.996 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:05:32.045 +05:30 [DBG] mvc found in database: true
2019-07-20 23:05:32.045 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:05:32.046 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:05:32.047 +05:30 [DBG] No PKCE used.
2019-07-20 23:05:32.074 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:05:32.294 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:05:32.316 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:05:32.559 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:05:32.560 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:05:32.786 +05:30 [DBG] mvc found in database: true
2019-07-20 23:05:32.786 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:30.596 +05:30 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-20 23:06:30.952 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:06:30.999 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:30.999 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:30.999 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:06:30.999 +05:30 [DBG] No PKCE used.
2019-07-20 23:06:31.024 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:31.216 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:31.230 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:31.283 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:31.290 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:06:32.608 +05:30 [DBG] Augmenting SignInContext
2019-07-20 23:06:32.614 +05:30 [DBG] Adding idp claim with value: local
2019-07-20 23:06:32.615 +05:30 [DBG] Adding amr claim with value: pwd
2019-07-20 23:06:32.615 +05:30 [DBG] Adding auth_time claim with value: 1563644192
2019-07-20 23:06:32.674 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-20 23:06:32.841 +05:30 [INF] {"Username":"bob","Provider":null,"ProviderUserId":null,"SubjectId":"dc2d1085-781b-43a2-a654-5e44463a441b","DisplayName":"bob","Endpoint":"UI","ClientId":"mvc","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLOD72CFNTOJ:00000004","TimeStamp":"2019-07-20T17:36:32.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-07-20 23:06:32.942 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:32.942 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:33.178 +05:30 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-20 23:06:33.179 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-20 23:06:33.179 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-20 23:06:33.190 +05:30 [DBG] Start authorize callback request
2019-07-20 23:06:33.227 +05:30 [DBG] User in authorize request: dc2d1085-781b-43a2-a654-5e44463a441b
2019-07-20 23:06:33.227 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:06:33.311 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:33.311 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:33.312 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:06:33.312 +05:30 [DBG] No PKCE used.
2019-07-20 23:06:33.332 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:33.573 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:33.598 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:33.811 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:33.812 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:06:33.813 +05:30 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"Mvc Demo","RedirectUri":"http://localhost:3728/signin-oidc","AllowedRedirectUris":["http://localhost:3728/signin-oidc"],"SubjectId":"dc2d1085-781b-43a2-a654-5e44463a441b","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile email API1","State":"CfDJ8POuXt9tv4tEqo04SnKVjl49fRTRPPA_LSPyoXtQG2hA0plNODKhx_I5BB9WuVtDD2thrF9zVHQ-J1mIr-tH6TJrCbGHwQON2ph39mtXyKdY7WDgoXHQUGVcyyIGwXxciyD6FMxbzBlLuGasW0b6F2scC52nARmvgJcYIh7Pc7hrqyCzqmBgS1HqDdenhNPNMu2rkaSKCM739nQw6tOtUsqrRFzQBvOw3j7amF2mo-aNh6RlvkPZVZQ5HGBFKZRwWr8f9PLFMMsLDYmQNr8lTD-VbaqAxN1DUOcTcuDjYe22DrIKCgl6DGz-LU_8MFCCaw","UiLocales":null,"Nonce":"636992409284926598.NGMwN2M2ODgtZWRmZi00ZWU3LTk1MzctMzVmMDIxZTJmMTM3NDQ3MTc4NzYtYmUxYS00NTQxLWIzZTctYWVjMjFjYzY4YThm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"ea42ca3b640be187fdd9530b086916a4","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:3728/signin-oidc","response_type":"code id_token","scope":"openid profile email API1","response_mode":"form_post","nonce":"636992409284926598.NGMwN2M2ODgtZWRmZi00ZWU3LTk1MzctMzVmMDIxZTJmMTM3NDQ3MTc4NzYtYmUxYS00NTQxLWIzZTctYWVjMjFjYzY4YThm","state":"CfDJ8POuXt9tv4tEqo04SnKVjl49fRTRPPA_LSPyoXtQG2hA0plNODKhx_I5BB9WuVtDD2thrF9zVHQ-J1mIr-tH6TJrCbGHwQON2ph39mtXyKdY7WDgoXHQUGVcyyIGwXxciyD6FMxbzBlLuGasW0b6F2scC52nARmvgJcYIh7Pc7hrqyCzqmBgS1HqDdenhNPNMu2rkaSKCM739nQw6tOtUsqrRFzQBvOw3j7amF2mo-aNh6RlvkPZVZQ5HGBFKZRwWr8f9PLFMMsLDYmQNr8lTD-VbaqAxN1DUOcTcuDjYe22DrIKCgl6DGz-LU_8MFCCaw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-20 23:06:34.028 +05:30 [DBG] npKSQXrVU8gIRUBwL3OZHY+LEOCC6AvxXiZ+VOQquhA= found in database: false
2019-07-20 23:06:34.028 +05:30 [DBG] user_consent grant with value: mvc|dc2d1085-781b-43a2-a654-5e44463a441b not found in store.
2019-07-20 23:06:34.028 +05:30 [DBG] Found no prior consent from consent store, consent is required
2019-07-20 23:06:34.028 +05:30 [INF] Showing consent: User has not yet consented
2019-07-20 23:06:34.156 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:06:34.215 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:34.215 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:34.216 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:06:34.216 +05:30 [DBG] No PKCE used.
2019-07-20 23:06:34.237 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:34.438 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:34.458 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:34.700 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:34.700 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:06:34.780 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:34.780 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:34.832 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:35.025 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:39.023 +05:30 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-20 23:06:39.126 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:06:39.180 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:39.180 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:39.180 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:06:39.180 +05:30 [DBG] No PKCE used.
2019-07-20 23:06:39.197 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:39.443 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:39.449 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:39.651 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:39.651 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:06:39.654 +05:30 [INF] {"SubjectId":"dc2d1085-781b-43a2-a654-5e44463a441b","ClientId":"mvc","RequestedScopes":["openid","profile","email","API1"],"GrantedScopes":["openid","email","profile","API1"],"ConsentRemembered":true,"Category":"Grants","Name":"Consent granted","EventType":"Information","Id":4000,"Message":null,"ActivityId":"0HLOD72CFNTOJ:00000006","TimeStamp":"2019-07-20T17:36:39.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"ConsentGrantedEvent"}
2019-07-20 23:06:39.780 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:39.780 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:39.925 +05:30 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-20 23:06:39.928 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-20 23:06:39.929 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-20 23:06:39.929 +05:30 [DBG] Start authorize callback request
2019-07-20 23:06:39.997 +05:30 [DBG] User in authorize request: dc2d1085-781b-43a2-a654-5e44463a441b
2019-07-20 23:06:39.997 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:06:40.114 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:40.115 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:40.115 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:06:40.115 +05:30 [DBG] No PKCE used.
2019-07-20 23:06:40.129 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:40.390 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:40.421 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:40.690 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:40.691 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:06:40.691 +05:30 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"Mvc Demo","RedirectUri":"http://localhost:3728/signin-oidc","AllowedRedirectUris":["http://localhost:3728/signin-oidc"],"SubjectId":"dc2d1085-781b-43a2-a654-5e44463a441b","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile email API1","State":"CfDJ8POuXt9tv4tEqo04SnKVjl49fRTRPPA_LSPyoXtQG2hA0plNODKhx_I5BB9WuVtDD2thrF9zVHQ-J1mIr-tH6TJrCbGHwQON2ph39mtXyKdY7WDgoXHQUGVcyyIGwXxciyD6FMxbzBlLuGasW0b6F2scC52nARmvgJcYIh7Pc7hrqyCzqmBgS1HqDdenhNPNMu2rkaSKCM739nQw6tOtUsqrRFzQBvOw3j7amF2mo-aNh6RlvkPZVZQ5HGBFKZRwWr8f9PLFMMsLDYmQNr8lTD-VbaqAxN1DUOcTcuDjYe22DrIKCgl6DGz-LU_8MFCCaw","UiLocales":null,"Nonce":"636992409284926598.NGMwN2M2ODgtZWRmZi00ZWU3LTk1MzctMzVmMDIxZTJmMTM3NDQ3MTc4NzYtYmUxYS00NTQxLWIzZTctYWVjMjFjYzY4YThm","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"ea42ca3b640be187fdd9530b086916a4","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:3728/signin-oidc","response_type":"code id_token","scope":"openid profile email API1","response_mode":"form_post","nonce":"636992409284926598.NGMwN2M2ODgtZWRmZi00ZWU3LTk1MzctMzVmMDIxZTJmMTM3NDQ3MTc4NzYtYmUxYS00NTQxLWIzZTctYWVjMjFjYzY4YThm","state":"CfDJ8POuXt9tv4tEqo04SnKVjl49fRTRPPA_LSPyoXtQG2hA0plNODKhx_I5BB9WuVtDD2thrF9zVHQ-J1mIr-tH6TJrCbGHwQON2ph39mtXyKdY7WDgoXHQUGVcyyIGwXxciyD6FMxbzBlLuGasW0b6F2scC52nARmvgJcYIh7Pc7hrqyCzqmBgS1HqDdenhNPNMu2rkaSKCM739nQw6tOtUsqrRFzQBvOw3j7amF2mo-aNh6RlvkPZVZQ5HGBFKZRwWr8f9PLFMMsLDYmQNr8lTD-VbaqAxN1DUOcTcuDjYe22DrIKCgl6DGz-LU_8MFCCaw","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-20 23:06:40.731 +05:30 [DBG] npKSQXrVU8gIRUBwL3OZHY+LEOCC6AvxXiZ+VOQquhA= found in database: false
2019-07-20 23:06:40.731 +05:30 [DBG] user_consent grant with value: mvc|dc2d1085-781b-43a2-a654-5e44463a441b not found in store.
2019-07-20 23:06:40.731 +05:30 [DBG] Found no prior consent from consent store, consent is required
2019-07-20 23:06:40.745 +05:30 [INF] User consented to scopes: ["openid","email","profile","API1"]
2019-07-20 23:06:40.748 +05:30 [DBG] User indicated to remember consent for scopes: ["openid","profile","email","API1"]
2019-07-20 23:06:40.753 +05:30 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: dc2d1085-781b-43a2-a654-5e44463a441b
2019-07-20 23:06:40.814 +05:30 [DBG] npKSQXrVU8gIRUBwL3OZHY+LEOCC6AvxXiZ+VOQquhA= not found in database
2019-07-20 23:06:41.731 +05:30 [DBG] Creating Hybrid Flow response.
2019-07-20 23:06:41.814 +05:30 [DBG] 4OMNTsbwjHOkMfo2/JzOrHpY9vKGzQ28+A+sOqdxPsM= not found in database
2019-07-20 23:06:41.840 +05:30 [DBG] Creating Implicit Flow response.
2019-07-20 23:06:41.855 +05:30 [DBG] Getting claims for identity token for subject: dc2d1085-781b-43a2-a654-5e44463a441b and client: mvc
2019-07-20 23:06:41.859 +05:30 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-07-20 23:06:43.778 +05:30 [INF] {"ClientId":"mvc","ClientName":"Mvc Demo","RedirectUri":"http://localhost:3728/signin-oidc","Endpoint":"Authorize","SubjectId":"dc2d1085-781b-43a2-a654-5e44463a441b","Scopes":"openid profile email API1","GrantType":"hybrid","Tokens":[{"TokenType":"id_token","TokenValue":"****Hz6g","$type":"Token"},{"TokenType":"code","TokenValue":"****effa","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLOD72CFNTOI:00000006","TimeStamp":"2019-07-20T17:36:43.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-07-20 23:06:43.780 +05:30 [DBG] Authorize endpoint response
{"SubjectId":"dc2d1085-781b-43a2-a654-5e44463a441b","ClientId":"mvc","RedirectUri":"http://localhost:3728/signin-oidc","State":"CfDJ8POuXt9tv4tEqo04SnKVjl49fRTRPPA_LSPyoXtQG2hA0plNODKhx_I5BB9WuVtDD2thrF9zVHQ-J1mIr-tH6TJrCbGHwQON2ph39mtXyKdY7WDgoXHQUGVcyyIGwXxciyD6FMxbzBlLuGasW0b6F2scC52nARmvgJcYIh7Pc7hrqyCzqmBgS1HqDdenhNPNMu2rkaSKCM739nQw6tOtUsqrRFzQBvOw3j7amF2mo-aNh6RlvkPZVZQ5HGBFKZRwWr8f9PLFMMsLDYmQNr8lTD-VbaqAxN1DUOcTcuDjYe22DrIKCgl6DGz-LU_8MFCCaw","Scope":"openid profile email API1","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-20 23:06:43.844 +05:30 [DBG] Augmenting SignInContext
2019-07-20 23:06:43.847 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-20 23:06:44.742 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-20 23:06:44.761 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-20 23:06:44.761 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-20 23:06:44.775 +05:30 [DBG] Start token request.
2019-07-20 23:06:44.804 +05:30 [DBG] Start client validation
2019-07-20 23:06:44.819 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-20 23:06:44.825 +05:30 [DBG] Start parsing for secret in post body
2019-07-20 23:06:44.863 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-20 23:06:44.864 +05:30 [DBG] Secret id found: mvc
2019-07-20 23:06:44.948 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:44.963 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:44.999 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-20 23:06:45.000 +05:30 [DBG] Client validation success
2019-07-20 23:06:45.001 +05:30 [INF] {"ClientId":"mvc","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLOD72CFNTOJ:00000007","TimeStamp":"2019-07-20T17:36:45.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-07-20 23:06:45.029 +05:30 [DBG] Start token request validation
2019-07-20 23:06:45.048 +05:30 [DBG] Start validation of authorization code token request
2019-07-20 23:06:45.064 +05:30 [DBG] 4OMNTsbwjHOkMfo2/JzOrHpY9vKGzQ28+A+sOqdxPsM= found in database: true
2019-07-20 23:06:45.107 +05:30 [DBG] removing 4OMNTsbwjHOkMfo2/JzOrHpY9vKGzQ28+A+sOqdxPsM= persisted grant from database
2019-07-20 23:06:45.190 +05:30 [DBG] Validation of authorization code token request success
2019-07-20 23:06:45.206 +05:30 [INF] Token request validation success, {"ClientId":"mvc","ClientName":"Mvc Demo","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"2d973c20defa396e5a0f1e875c1fa922035344811fa8e4649c1e054c71faeffa","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"mvc","client_secret":"***REDACTED***","code":"2d973c20defa396e5a0f1e875c1fa922035344811fa8e4649c1e054c71faeffa","grant_type":"authorization_code","redirect_uri":"http://localhost:3728/signin-oidc"},"$type":"TokenRequestValidationLog"}
2019-07-20 23:06:45.303 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:45.303 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:45.324 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:45.527 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:45.545 +05:30 [DBG] Getting claims for access token for client: mvc
2019-07-20 23:06:45.546 +05:30 [DBG] Getting claims for access token for subject: dc2d1085-781b-43a2-a654-5e44463a441b
2019-07-20 23:06:45.774 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:45.775 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:45.804 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:06:46.077 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:06:46.077 +05:30 [DBG] Getting claims for identity token for subject: dc2d1085-781b-43a2-a654-5e44463a441b and client: mvc
2019-07-20 23:06:46.077 +05:30 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-07-20 23:06:46.091 +05:30 [INF] {"ClientId":"mvc","ClientName":"Mvc Demo","RedirectUri":null,"Endpoint":"Token","SubjectId":"dc2d1085-781b-43a2-a654-5e44463a441b","Scopes":"openid profile email API1","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****_ixw","$type":"Token"},{"TokenType":"access_token","TokenValue":"****b5fA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLOD72CFNTOJ:00000007","TimeStamp":"2019-07-20T17:36:46.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-07-20 23:06:46.093 +05:30 [DBG] Token request success.
2019-07-20 23:06:51.028 +05:30 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-07-20 23:06:51.031 +05:30 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-07-20 23:06:51.031 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-07-20 23:06:51.031 +05:30 [DBG] Start discovery request
2019-07-20 23:06:51.105 +05:30 [DBG] Found ["openid","email","profile","API1"] as all scopes in database
2019-07-20 23:06:51.624 +05:30 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-07-20 23:06:51.624 +05:30 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-07-20 23:06:51.625 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-07-20 23:06:51.625 +05:30 [DBG] Start key discovery request
2019-07-20 23:06:56.068 +05:30 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2019-07-20 23:06:56.070 +05:30 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2019-07-20 23:06:56.071 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2019-07-20 23:06:56.078 +05:30 [DBG] Processing signout request for dc2d1085-781b-43a2-a654-5e44463a441b
2019-07-20 23:06:56.086 +05:30 [DBG] Start end session request validation
2019-07-20 23:06:56.098 +05:30 [DBG] Start identity token validation
2019-07-20 23:06:56.187 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:56.188 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:56.188 +05:30 [DBG] Client found: mvc / Mvc Demo
2019-07-20 23:06:56.339 +05:30 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-07-20 23:06:56.341 +05:30 [DBG] Token validation success
{"ClientId":"mvc","ClientName":"Mvc Demo","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1563644206,"exp":1563644506,"iss":"http://localhost:5000","aud":"mvc","nonce":"636992409284926598.NGMwN2M2ODgtZWRmZi00ZWU3LTk1MzctMzVmMDIxZTJmMTM3NDQ3MTc4NzYtYmUxYS00NTQxLWIzZTctYWVjMjFjYzY4YThm","iat":1563644206,"at_hash":"5fa0Qk6U2bLHDo4W-KTDEg","sid":"ea42ca3b640be187fdd9530b086916a4","sub":"dc2d1085-781b-43a2-a654-5e44463a441b","auth_time":1563644192,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}
2019-07-20 23:06:56.355 +05:30 [INF] End session request validation success
{"ClientId":"mvc","ClientName":"Mvc Demo","SubjectId":"dc2d1085-781b-43a2-a654-5e44463a441b","PostLogOutUri":"http://localhost:3728/signout-callback-oidc","State":"CfDJ8POuXt9tv4tEqo04SnKVjl75TZe_bnSIuxmG_w6mUvGLVcweLg15hJw458AP3XPBjB17wnqmusCCOmQAQCb44UGEf5i24bvxnNSHc0u-FdZqoGZAYByI_dJaAQdwnzA0_xBbiAf9wXL7mR60ewkOzxU","Raw":{"post_logout_redirect_uri":"http://localhost:3728/signout-callback-oidc","id_token_hint":"***REDACTED***","state":"CfDJ8POuXt9tv4tEqo04SnKVjl75TZe_bnSIuxmG_w6mUvGLVcweLg15hJw458AP3XPBjB17wnqmusCCOmQAQCb44UGEf5i24bvxnNSHc0u-FdZqoGZAYByI_dJaAQdwnzA0_xBbiAf9wXL7mR60ewkOzxU","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2019-07-20 23:06:56.362 +05:30 [DBG] Success validating end session request from mvc
2019-07-20 23:06:56.502 +05:30 [INF] AuthenticationScheme: Identity.Application signed out.
2019-07-20 23:06:56.506 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-20 23:06:56.506 +05:30 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-07-20 23:06:56.507 +05:30 [INF] {"SubjectId":"dc2d1085-781b-43a2-a654-5e44463a441b","DisplayName":"Bob Smith","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HLOD72CFNTOJ:00000009","TimeStamp":"2019-07-20T17:36:56.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"UserLogoutSuccessEvent"}
2019-07-20 23:06:56.792 +05:30 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2019-07-20 23:06:56.800 +05:30 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2019-07-20 23:06:56.800 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2019-07-20 23:06:56.830 +05:30 [DBG] Processing signout callback request
2019-07-20 23:06:56.954 +05:30 [DBG] mvc found in database: true
2019-07-20 23:06:56.954 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:06:56.954 +05:30 [DBG] No client front-channel logout URLs
2019-07-20 23:06:56.954 +05:30 [DBG] No client back-channel logout URLs
2019-07-20 23:06:56.954 +05:30 [INF] Successful signout callback.
2019-07-20 23:06:56.954 +05:30 [DBG] No client front-channel iframe urls
2019-07-20 23:06:56.954 +05:30 [DBG] No client back-channel iframe urls
2019-07-20 23:07:01.093 +05:30 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-07-20 23:07:01.094 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-07-20 23:07:01.094 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-07-20 23:07:01.094 +05:30 [DBG] Start authorize request
2019-07-20 23:07:01.095 +05:30 [DBG] No user present in authorize request
2019-07-20 23:07:01.095 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:07:01.184 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:01.184 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:01.184 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:07:01.184 +05:30 [DBG] No PKCE used.
2019-07-20 23:07:01.214 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:01.411 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:01.433 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:01.737 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:01.738 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:07:01.739 +05:30 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"Mvc Demo","RedirectUri":"http://localhost:3728/signin-oidc","AllowedRedirectUris":["http://localhost:3728/signin-oidc"],"SubjectId":"anonymous","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile email API1","State":"CfDJ8POuXt9tv4tEqo04SnKVjl4UtYEtISm06Vc0CKuYtP1OGQUzubJ-PVrZeRenDLqmTyjVLAAiz3GKxhc-VDALA6ohcke2OZKrlBoTuix8_C6-rFujFB7gLOliOlV4mlS80cMEqFKpHL-ULMpRX46_zf4Nf5TH1D_uCcfhWG1cz6x-gs2jsPj-9TKkbTUxSNs-YOAA8IZ66AXhFKo9LouU5gIBgkpwsKuTPw4GeYKj-IP_nFdHzm3stNmK914OIiZo2bX0xE3oM0EdKuIrTpFSoZOwkCKmF7I1CCp92rKEfz100dJI-4BBqn6IwcmE0x7s-w","UiLocales":null,"Nonce":"636992410210668152.YzMyOWJmNDItMzI0Mi00YmUxLWFlM2EtNmJiMGY5OTVlODY1YzFiNGZmYTEtMjI0MC00YmI5LWJjYTItYWY4NjYxMzVlY2Vl","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://localhost:3728/signin-oidc","response_type":"code id_token","scope":"openid profile email API1","response_mode":"form_post","nonce":"636992410210668152.YzMyOWJmNDItMzI0Mi00YmUxLWFlM2EtNmJiMGY5OTVlODY1YzFiNGZmYTEtMjI0MC00YmI5LWJjYTItYWY4NjYxMzVlY2Vl","state":"CfDJ8POuXt9tv4tEqo04SnKVjl4UtYEtISm06Vc0CKuYtP1OGQUzubJ-PVrZeRenDLqmTyjVLAAiz3GKxhc-VDALA6ohcke2OZKrlBoTuix8_C6-rFujFB7gLOliOlV4mlS80cMEqFKpHL-ULMpRX46_zf4Nf5TH1D_uCcfhWG1cz6x-gs2jsPj-9TKkbTUxSNs-YOAA8IZ66AXhFKo9LouU5gIBgkpwsKuTPw4GeYKj-IP_nFdHzm3stNmK914OIiZo2bX0xE3oM0EdKuIrTpFSoZOwkCKmF7I1CCp92rKEfz100dJI-4BBqn6IwcmE0x7s-w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-20 23:07:01.740 +05:30 [INF] Showing login: User is not authenticated
2019-07-20 23:07:01.792 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:07:01.868 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:01.868 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:01.869 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:07:01.869 +05:30 [DBG] No PKCE used.
2019-07-20 23:07:01.889 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:02.152 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:02.176 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:02.436 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:02.437 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:07:02.509 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:02.509 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:35.771 +05:30 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-20 23:07:35.782 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:07:35.862 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:35.863 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:35.864 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:07:35.864 +05:30 [DBG] No PKCE used.
2019-07-20 23:07:35.885 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:36.101 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:36.119 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:36.381 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:36.381 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:07:36.451 +05:30 [DBG] Augmenting SignInContext
2019-07-20 23:07:36.452 +05:30 [DBG] Adding idp claim with value: local
2019-07-20 23:07:36.452 +05:30 [DBG] Adding amr claim with value: pwd
2019-07-20 23:07:36.452 +05:30 [DBG] Adding auth_time claim with value: 1563644256
2019-07-20 23:07:36.453 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-20 23:07:36.466 +05:30 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"e69a0683-dce3-4a1c-93e3-b64aab9fa68a","DisplayName":"alice","Endpoint":"UI","ClientId":"mvc","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLOD72CFNTOJ:0000000B","TimeStamp":"2019-07-20T17:37:36.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-07-20 23:07:36.517 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:36.517 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:36.548 +05:30 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-20 23:07:36.549 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-20 23:07:36.549 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-20 23:07:36.550 +05:30 [DBG] Start authorize callback request
2019-07-20 23:07:36.551 +05:30 [DBG] User in authorize request: e69a0683-dce3-4a1c-93e3-b64aab9fa68a
2019-07-20 23:07:36.551 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:07:36.617 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:36.617 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:36.618 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:07:36.618 +05:30 [DBG] No PKCE used.
2019-07-20 23:07:36.660 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:36.889 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:36.907 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:37.095 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:37.096 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:07:37.096 +05:30 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"Mvc Demo","RedirectUri":"http://localhost:3728/signin-oidc","AllowedRedirectUris":["http://localhost:3728/signin-oidc"],"SubjectId":"e69a0683-dce3-4a1c-93e3-b64aab9fa68a","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile email API1","State":"CfDJ8POuXt9tv4tEqo04SnKVjl4UtYEtISm06Vc0CKuYtP1OGQUzubJ-PVrZeRenDLqmTyjVLAAiz3GKxhc-VDALA6ohcke2OZKrlBoTuix8_C6-rFujFB7gLOliOlV4mlS80cMEqFKpHL-ULMpRX46_zf4Nf5TH1D_uCcfhWG1cz6x-gs2jsPj-9TKkbTUxSNs-YOAA8IZ66AXhFKo9LouU5gIBgkpwsKuTPw4GeYKj-IP_nFdHzm3stNmK914OIiZo2bX0xE3oM0EdKuIrTpFSoZOwkCKmF7I1CCp92rKEfz100dJI-4BBqn6IwcmE0x7s-w","UiLocales":null,"Nonce":"636992410210668152.YzMyOWJmNDItMzI0Mi00YmUxLWFlM2EtNmJiMGY5OTVlODY1YzFiNGZmYTEtMjI0MC00YmI5LWJjYTItYWY4NjYxMzVlY2Vl","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"d41b85b854724ec46e284f654cd25070","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:3728/signin-oidc","response_type":"code id_token","scope":"openid profile email API1","response_mode":"form_post","nonce":"636992410210668152.YzMyOWJmNDItMzI0Mi00YmUxLWFlM2EtNmJiMGY5OTVlODY1YzFiNGZmYTEtMjI0MC00YmI5LWJjYTItYWY4NjYxMzVlY2Vl","state":"CfDJ8POuXt9tv4tEqo04SnKVjl4UtYEtISm06Vc0CKuYtP1OGQUzubJ-PVrZeRenDLqmTyjVLAAiz3GKxhc-VDALA6ohcke2OZKrlBoTuix8_C6-rFujFB7gLOliOlV4mlS80cMEqFKpHL-ULMpRX46_zf4Nf5TH1D_uCcfhWG1cz6x-gs2jsPj-9TKkbTUxSNs-YOAA8IZ66AXhFKo9LouU5gIBgkpwsKuTPw4GeYKj-IP_nFdHzm3stNmK914OIiZo2bX0xE3oM0EdKuIrTpFSoZOwkCKmF7I1CCp92rKEfz100dJI-4BBqn6IwcmE0x7s-w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-20 23:07:37.133 +05:30 [DBG] +hIZ1NkKUNOLsQFiM/U9svd+tFlzYLbxjK18B8FjhQY= found in database: false
2019-07-20 23:07:37.134 +05:30 [DBG] user_consent grant with value: mvc|e69a0683-dce3-4a1c-93e3-b64aab9fa68a not found in store.
2019-07-20 23:07:37.134 +05:30 [DBG] Found no prior consent from consent store, consent is required
2019-07-20 23:07:37.134 +05:30 [INF] Showing consent: User has not yet consented
2019-07-20 23:07:37.191 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:07:37.237 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:37.237 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:37.237 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:07:37.237 +05:30 [DBG] No PKCE used.
2019-07-20 23:07:37.260 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:37.587 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:37.604 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:37.810 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:37.811 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:07:37.869 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:37.869 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:37.885 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:38.121 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:41.508 +05:30 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-07-20 23:07:41.512 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:07:41.578 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:41.579 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:41.579 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:07:41.579 +05:30 [DBG] No PKCE used.
2019-07-20 23:07:41.593 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:41.786 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:41.792 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:41.801 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:41.801 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:07:41.801 +05:30 [INF] {"SubjectId":"e69a0683-dce3-4a1c-93e3-b64aab9fa68a","ClientId":"mvc","RequestedScopes":["openid","profile","email","API1"],"GrantedScopes":["openid","email","profile","API1"],"ConsentRemembered":true,"Category":"Grants","Name":"Consent granted","EventType":"Information","Id":4000,"Message":null,"ActivityId":"0HLOD72CFNTOI:0000000C","TimeStamp":"2019-07-20T17:37:41.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"ConsentGrantedEvent"}
2019-07-20 23:07:41.810 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:41.810 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:41.840 +05:30 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-07-20 23:07:41.841 +05:30 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-07-20 23:07:41.841 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-07-20 23:07:41.841 +05:30 [DBG] Start authorize callback request
2019-07-20 23:07:41.841 +05:30 [DBG] User in authorize request: e69a0683-dce3-4a1c-93e3-b64aab9fa68a
2019-07-20 23:07:41.842 +05:30 [DBG] Start authorize request protocol validation
2019-07-20 23:07:41.901 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:41.901 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:41.901 +05:30 [DBG] Checking for PKCE parameters
2019-07-20 23:07:41.901 +05:30 [DBG] No PKCE used.
2019-07-20 23:07:41.920 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:42.149 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:42.172 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:42.387 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:42.387 +05:30 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-07-20 23:07:42.387 +05:30 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"Mvc Demo","RedirectUri":"http://localhost:3728/signin-oidc","AllowedRedirectUris":["http://localhost:3728/signin-oidc"],"SubjectId":"e69a0683-dce3-4a1c-93e3-b64aab9fa68a","ResponseType":"code id_token","ResponseMode":"form_post","GrantType":"hybrid","RequestedScopes":"openid profile email API1","State":"CfDJ8POuXt9tv4tEqo04SnKVjl4UtYEtISm06Vc0CKuYtP1OGQUzubJ-PVrZeRenDLqmTyjVLAAiz3GKxhc-VDALA6ohcke2OZKrlBoTuix8_C6-rFujFB7gLOliOlV4mlS80cMEqFKpHL-ULMpRX46_zf4Nf5TH1D_uCcfhWG1cz6x-gs2jsPj-9TKkbTUxSNs-YOAA8IZ66AXhFKo9LouU5gIBgkpwsKuTPw4GeYKj-IP_nFdHzm3stNmK914OIiZo2bX0xE3oM0EdKuIrTpFSoZOwkCKmF7I1CCp92rKEfz100dJI-4BBqn6IwcmE0x7s-w","UiLocales":null,"Nonce":"636992410210668152.YzMyOWJmNDItMzI0Mi00YmUxLWFlM2EtNmJiMGY5OTVlODY1YzFiNGZmYTEtMjI0MC00YmI5LWJjYTItYWY4NjYxMzVlY2Vl","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"d41b85b854724ec46e284f654cd25070","Raw":{"client_id":"mvc","redirect_uri":"http://localhost:3728/signin-oidc","response_type":"code id_token","scope":"openid profile email API1","response_mode":"form_post","nonce":"636992410210668152.YzMyOWJmNDItMzI0Mi00YmUxLWFlM2EtNmJiMGY5OTVlODY1YzFiNGZmYTEtMjI0MC00YmI5LWJjYTItYWY4NjYxMzVlY2Vl","state":"CfDJ8POuXt9tv4tEqo04SnKVjl4UtYEtISm06Vc0CKuYtP1OGQUzubJ-PVrZeRenDLqmTyjVLAAiz3GKxhc-VDALA6ohcke2OZKrlBoTuix8_C6-rFujFB7gLOliOlV4mlS80cMEqFKpHL-ULMpRX46_zf4Nf5TH1D_uCcfhWG1cz6x-gs2jsPj-9TKkbTUxSNs-YOAA8IZ66AXhFKo9LouU5gIBgkpwsKuTPw4GeYKj-IP_nFdHzm3stNmK914OIiZo2bX0xE3oM0EdKuIrTpFSoZOwkCKmF7I1CCp92rKEfz100dJI-4BBqn6IwcmE0x7s-w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-07-20 23:07:42.405 +05:30 [DBG] +hIZ1NkKUNOLsQFiM/U9svd+tFlzYLbxjK18B8FjhQY= found in database: false
2019-07-20 23:07:42.405 +05:30 [DBG] user_consent grant with value: mvc|e69a0683-dce3-4a1c-93e3-b64aab9fa68a not found in store.
2019-07-20 23:07:42.405 +05:30 [DBG] Found no prior consent from consent store, consent is required
2019-07-20 23:07:42.405 +05:30 [INF] User consented to scopes: ["openid","email","profile","API1"]
2019-07-20 23:07:42.406 +05:30 [DBG] User indicated to remember consent for scopes: ["openid","profile","email","API1"]
2019-07-20 23:07:42.406 +05:30 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: e69a0683-dce3-4a1c-93e3-b64aab9fa68a
2019-07-20 23:07:42.422 +05:30 [DBG] +hIZ1NkKUNOLsQFiM/U9svd+tFlzYLbxjK18B8FjhQY= not found in database
2019-07-20 23:07:42.493 +05:30 [DBG] Creating Hybrid Flow response.
2019-07-20 23:07:42.496 +05:30 [DBG] l0dUAhUKCJzB9uPFOGZuVgo/2iVXQyVJnJjE5svmEzQ= not found in database
2019-07-20 23:07:42.501 +05:30 [DBG] Creating Implicit Flow response.
2019-07-20 23:07:42.501 +05:30 [DBG] Getting claims for identity token for subject: e69a0683-dce3-4a1c-93e3-b64aab9fa68a and client: mvc
2019-07-20 23:07:42.501 +05:30 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-07-20 23:07:42.505 +05:30 [INF] {"ClientId":"mvc","ClientName":"Mvc Demo","RedirectUri":"http://localhost:3728/signin-oidc","Endpoint":"Authorize","SubjectId":"e69a0683-dce3-4a1c-93e3-b64aab9fa68a","Scopes":"openid profile email API1","GrantType":"hybrid","Tokens":[{"TokenType":"id_token","TokenValue":"****2dNw","$type":"Token"},{"TokenType":"code","TokenValue":"****9f3c","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLOD72CFNTOJ:0000000D","TimeStamp":"2019-07-20T17:37:42.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-07-20 23:07:42.506 +05:30 [DBG] Authorize endpoint response
{"SubjectId":"e69a0683-dce3-4a1c-93e3-b64aab9fa68a","ClientId":"mvc","RedirectUri":"http://localhost:3728/signin-oidc","State":"CfDJ8POuXt9tv4tEqo04SnKVjl4UtYEtISm06Vc0CKuYtP1OGQUzubJ-PVrZeRenDLqmTyjVLAAiz3GKxhc-VDALA6ohcke2OZKrlBoTuix8_C6-rFujFB7gLOliOlV4mlS80cMEqFKpHL-ULMpRX46_zf4Nf5TH1D_uCcfhWG1cz6x-gs2jsPj-9TKkbTUxSNs-YOAA8IZ66AXhFKo9LouU5gIBgkpwsKuTPw4GeYKj-IP_nFdHzm3stNmK914OIiZo2bX0xE3oM0EdKuIrTpFSoZOwkCKmF7I1CCp92rKEfz100dJI-4BBqn6IwcmE0x7s-w","Scope":"openid profile email API1","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-07-20 23:07:42.506 +05:30 [DBG] Augmenting SignInContext
2019-07-20 23:07:42.507 +05:30 [INF] AuthenticationScheme: Identity.Application signed in.
2019-07-20 23:07:42.605 +05:30 [DBG] Request path /connect/token matched to endpoint type Token
2019-07-20 23:07:42.606 +05:30 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-07-20 23:07:42.606 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-07-20 23:07:42.606 +05:30 [DBG] Start token request.
2019-07-20 23:07:42.607 +05:30 [DBG] Start client validation
2019-07-20 23:07:42.607 +05:30 [DBG] Start parsing Basic Authentication secret
2019-07-20 23:07:42.607 +05:30 [DBG] Start parsing for secret in post body
2019-07-20 23:07:42.618 +05:30 [DBG] Parser found secret: PostBodySecretParser
2019-07-20 23:07:42.618 +05:30 [DBG] Secret id found: mvc
2019-07-20 23:07:42.800 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:42.801 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:42.801 +05:30 [DBG] Secret validator success: HashedSharedSecretValidator
2019-07-20 23:07:42.801 +05:30 [DBG] Client validation success
2019-07-20 23:07:42.801 +05:30 [INF] {"ClientId":"mvc","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLOD72CFNTOI:0000000D","TimeStamp":"2019-07-20T17:37:42.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-07-20 23:07:42.801 +05:30 [DBG] Start token request validation
2019-07-20 23:07:42.801 +05:30 [DBG] Start validation of authorization code token request
2019-07-20 23:07:42.808 +05:30 [DBG] l0dUAhUKCJzB9uPFOGZuVgo/2iVXQyVJnJjE5svmEzQ= found in database: true
2019-07-20 23:07:42.812 +05:30 [DBG] removing l0dUAhUKCJzB9uPFOGZuVgo/2iVXQyVJnJjE5svmEzQ= persisted grant from database
2019-07-20 23:07:43.016 +05:30 [DBG] Validation of authorization code token request success
2019-07-20 23:07:43.016 +05:30 [INF] Token request validation success, {"ClientId":"mvc","ClientName":"Mvc Demo","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"dc5521948eb76dcc8d23bc6418fad5ecc8b67888e7845dd5e4784da966b69f3c","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"mvc","client_secret":"***REDACTED***","code":"dc5521948eb76dcc8d23bc6418fad5ecc8b67888e7845dd5e4784da966b69f3c","grant_type":"authorization_code","redirect_uri":"http://localhost:3728/signin-oidc"},"$type":"TokenRequestValidationLog"}
2019-07-20 23:07:43.068 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:43.068 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:43.088 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:43.304 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:43.305 +05:30 [DBG] Getting claims for access token for client: mvc
2019-07-20 23:07:43.305 +05:30 [DBG] Getting claims for access token for subject: e69a0683-dce3-4a1c-93e3-b64aab9fa68a
2019-07-20 23:07:43.388 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:43.388 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:43.420 +05:30 [DBG] Found ["openid","email","profile"] identity scopes in database
2019-07-20 23:07:43.641 +05:30 [DBG] Found ["API1"] API scopes in database
2019-07-20 23:07:43.642 +05:30 [DBG] Getting claims for identity token for subject: e69a0683-dce3-4a1c-93e3-b64aab9fa68a and client: mvc
2019-07-20 23:07:43.643 +05:30 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2019-07-20 23:07:43.648 +05:30 [INF] {"ClientId":"mvc","ClientName":"Mvc Demo","RedirectUri":null,"Endpoint":"Token","SubjectId":"e69a0683-dce3-4a1c-93e3-b64aab9fa68a","Scopes":"openid profile email API1","GrantType":"authorization_code","Tokens":[{"TokenType":"id_token","TokenValue":"****GGaA","$type":"Token"},{"TokenType":"access_token","TokenValue":"****NYZg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLOD72CFNTOI:0000000D","TimeStamp":"2019-07-20T17:37:43.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-07-20 23:07:43.648 +05:30 [DBG] Token request success.
2019-07-20 23:07:52.524 +05:30 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2019-07-20 23:07:52.526 +05:30 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2019-07-20 23:07:52.526 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2019-07-20 23:07:52.527 +05:30 [DBG] Processing signout request for e69a0683-dce3-4a1c-93e3-b64aab9fa68a
2019-07-20 23:07:52.527 +05:30 [DBG] Start end session request validation
2019-07-20 23:07:52.527 +05:30 [DBG] Start identity token validation
2019-07-20 23:07:52.624 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:52.624 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:52.624 +05:30 [DBG] Client found: mvc / Mvc Demo
2019-07-20 23:07:52.635 +05:30 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-07-20 23:07:52.636 +05:30 [DBG] Token validation success
{"ClientId":"mvc","ClientName":"Mvc Demo","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1563644263,"exp":1563644563,"iss":"http://localhost:5000","aud":"mvc","nonce":"636992410210668152.YzMyOWJmNDItMzI0Mi00YmUxLWFlM2EtNmJiMGY5OTVlODY1YzFiNGZmYTEtMjI0MC00YmI5LWJjYTItYWY4NjYxMzVlY2Vl","iat":1563644263,"at_hash":"VZ56FuFX1wgSAbZeQ3GIuA","sid":"d41b85b854724ec46e284f654cd25070","sub":"e69a0683-dce3-4a1c-93e3-b64aab9fa68a","auth_time":1563644256,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}
2019-07-20 23:07:52.636 +05:30 [INF] End session request validation success
{"ClientId":"mvc","ClientName":"Mvc Demo","SubjectId":"e69a0683-dce3-4a1c-93e3-b64aab9fa68a","PostLogOutUri":"http://localhost:3728/signout-callback-oidc","State":"CfDJ8POuXt9tv4tEqo04SnKVjl5ETWcX33gnrHyB_y6T6XaGPV8L2bZEJxORpenu3DvRDFx2sg200XKFKjed-mMDh3w8rVU6tNGgQtqsKJPywXcxi1weLhMkSKtrJKgMj_haZShrnag1T7R0duzUecVb3v8","Raw":{"post_logout_redirect_uri":"http://localhost:3728/signout-callback-oidc","id_token_hint":"***REDACTED***","state":"CfDJ8POuXt9tv4tEqo04SnKVjl5ETWcX33gnrHyB_y6T6XaGPV8L2bZEJxORpenu3DvRDFx2sg200XKFKjed-mMDh3w8rVU6tNGgQtqsKJPywXcxi1weLhMkSKtrJKgMj_haZShrnag1T7R0duzUecVb3v8","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2019-07-20 23:07:52.636 +05:30 [DBG] Success validating end session request from mvc
2019-07-20 23:07:52.673 +05:30 [INF] AuthenticationScheme: Identity.Application signed out.
2019-07-20 23:07:52.674 +05:30 [INF] AuthenticationScheme: Identity.External signed out.
2019-07-20 23:07:52.679 +05:30 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-07-20 23:07:52.679 +05:30 [INF] {"SubjectId":"e69a0683-dce3-4a1c-93e3-b64aab9fa68a","DisplayName":"Alice Smith","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HLOD72CFNTOI:0000000E","TimeStamp":"2019-07-20T17:37:52.0000000Z","ProcessId":17424,"LocalIpAddress":"127.0.0.1:11846","RemoteIpAddress":"::1","$type":"UserLogoutSuccessEvent"}
2019-07-20 23:07:52.862 +05:30 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2019-07-20 23:07:52.866 +05:30 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2019-07-20 23:07:52.866 +05:30 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2019-07-20 23:07:52.866 +05:30 [DBG] Processing signout callback request
2019-07-20 23:07:53.043 +05:30 [DBG] mvc found in database: true
2019-07-20 23:07:53.043 +05:30 [DBG] client configuration validation for client mvc succeeded.
2019-07-20 23:07:53.043 +05:30 [DBG] No client front-channel logout URLs
2019-07-20 23:07:53.043 +05:30 [DBG] No client back-channel logout URLs
2019-07-20 23:07:53.043 +05:30 [INF] Successful signout callback.
2019-07-20 23:07:53.043 +05:30 [DBG] No client front-channel iframe urls
2019-07-20 23:07:53.043 +05:30 [DBG] No client back-channel iframe urls
